<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creamistry Ice Cream Factory - Manufacturing Problems</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Outfit:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: #0a0a0f;
            color: #e8e8f0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            width: 100%;
        }

        .slide {
            display: none;
            background: #1a1a24;
            border-radius: 24px;
            padding: 60px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            animation: fadeIn 0.5s ease-in-out;
        }

        .slide.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 3rem;
            font-weight: 700;
            color: #e8c47c;
            margin-bottom: 30px;
            text-align: center;
        }

        h2 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2.5rem;
            font-weight: 600;
            color: #e8c47c;
            margin-bottom: 30px;
            text-align: center;
        }

        h3 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.8rem;
            font-weight: 600;
            color: #7cc4e8;
            margin-bottom: 20px;
        }

        p {
            font-size: 1.2rem;
            line-height: 1.8;
            margin-bottom: 20px;
            color: #c8c8d8;
        }

        .highlight {
            font-family: 'JetBrains Mono', monospace;
            color: #e8c47c;
            font-weight: 500;
        }

        .production-info {
            background: rgba(124, 196, 232, 0.1);
            border-left: 4px solid #7cc4e8;
            padding: 20px;
            margin: 30px 0;
            border-radius: 8px;
        }

        .production-info p {
            margin-bottom: 0;
            color: #7cc4e8;
            font-weight: 500;
        }

        canvas {
            display: block;
            margin: 40px auto;
            max-width: 100%;
        }

        .given-data {
            background: rgba(232, 196, 124, 0.1);
            border: 2px solid #e8c47c;
            border-radius: 12px;
            padding: 25px;
            margin: 30px 0;
        }

        .given-data h3 {
            color: #e8c47c;
            margin-bottom: 15px;
        }

        .given-data ul {
            list-style: none;
            padding-left: 0;
        }

        .given-data li {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.1rem;
            padding: 8px 0;
            color: #e8e8f0;
        }

        .solution-steps {
            background: rgba(124, 232, 180, 0.1);
            border-radius: 12px;
            padding: 30px;
            margin: 30px 0;
        }

        .step {
            margin-bottom: 25px;
            padding-left: 15px;
            border-left: 3px solid #7ce8b4;
        }

        .step h4 {
            font-family: 'Outfit', sans-serif;
            font-size: 1.1rem;
            color: #7ce8b4;
            margin-bottom: 10px;
            font-weight: 500;
        }

        .step p {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.1rem;
            color: #e8e8f0;
            margin-bottom: 5px;
        }

        .answer-box {
            background: linear-gradient(135deg, rgba(224, 120, 96, 0.2), rgba(232, 196, 124, 0.2));
            border: 3px solid #e07860;
            border-radius: 16px;
            padding: 30px;
            text-align: center;
            margin: 30px 0;
        }

        .answer-box h3 {
            color: #e07860;
            margin-bottom: 15px;
        }

        .answer-box .answer {
            font-family: 'JetBrains Mono', monospace;
            font-size: 2.5rem;
            color: #e8c47c;
            font-weight: 600;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 40px;
        }

        .nav-button {
            background: linear-gradient(135deg, #e8c47c, #e07860);
            color: #0a0a0f;
            border: none;
            padding: 15px 35px;
            font-family: 'Outfit', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(232, 196, 124, 0.3);
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(232, 196, 124, 0.4);
        }

        .nav-button:disabled {
            opacity: 0.3;
            cursor: not-allowed;
            transform: none;
        }

        .progress-dots {
            display: flex;
            gap: 12px;
            justify-content: center;
        }

        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(232, 196, 124, 0.3);
            transition: all 0.3s ease;
        }

        .dot.active {
            background: #e8c47c;
            transform: scale(1.3);
        }

        .method-note {
            background: rgba(124, 196, 232, 0.1);
            border-left: 4px solid #7cc4e8;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 8px;
            font-style: italic;
            color: #7cc4e8;
        }
    </style>
</head>
<body>
    <a href="main.html" style="position: fixed; top: 20px; left: 20px; color: #e8c47c; text-decoration: none; font-size: 0.9rem; z-index: 1000;">&larr; Back to Home</a>
    <div class="container">
        <!-- Slide 1: Context -->
        <div class="slide active">
            <h1>Welcome to Creamistry Ice Cream Factory</h1>
            <canvas id="coneCanvas1" width="400" height="450"></canvas>
            <div class="production-info">
                <p class="highlight">Daily Production: 10,000 cones</p>
            </div>
            <p style="text-align: center; font-size: 1.3rem; margin-top: 30px;">
                Let's solve some manufacturing problems to optimize our production!
            </p>
        </div>

        <!-- Slide 2: Question B1 -->
        <div class="slide">
            <h2>Problem B1</h2>
            <h3>How much wafer dough is needed for one cone?</h3>

            <div class="given-data">
                <h3>Given Dimensions:</h3>
                <ul>
                    <li>Radius (r) = 21 mm</li>
                    <li>Height (h) = 28 mm</li>
                    <li>Wafer thickness = 1 mm</li>
                </ul>
            </div>

            <div class="method-note">
                <p>Volume of wafer ≈ Curved Surface Area × Thickness</p>
            </div>

            <canvas id="coneCanvas2" width="400" height="400"></canvas>
        </div>

        <!-- Slide 3: Answer B1 -->
        <div class="slide">
            <h2>Solution B1</h2>

            <div class="solution-steps">
                <div class="step">
                    <h4>Step 1: Calculate Slant Height (l)</h4>
                    <p>l = √(r² + h²)</p>
                    <p>l = √(21² + 28²)</p>
                    <p>l = √(441 + 784)</p>
                    <p>l = √1225 = 35 mm</p>
                </div>

                <div class="step">
                    <h4>Step 2: Calculate Curved Surface Area (CSA)</h4>
                    <p>CSA = πrl</p>
                    <p>CSA = (22/7) × 21 × 35</p>
                    <p>CSA = 22 × 3 × 35</p>
                    <p>CSA = 2310 mm²</p>
                </div>

                <div class="step">
                    <h4>Step 3: Calculate Volume of Wafer</h4>
                    <p>Volume = CSA × Thickness</p>
                    <p>Volume = 2310 × 1</p>
                    <p>Volume = 2310 mm³</p>
                </div>
            </div>

            <div class="answer-box">
                <h3>Answer</h3>
                <p class="answer">2310 mm³</p>
                <p style="color: #c8c8d8; margin-top: 15px;">of wafer dough per cone</p>
            </div>
        </div>

        <!-- Slide 4: Question B2 -->
        <div class="slide">
            <h2>Problem B2</h2>
            <h3>How many 2.31L containers are needed for daily production?</h3>

            <div class="given-data">
                <h3>Given Information:</h3>
                <ul>
                    <li>Number of cones per day = 10,000</li>
                    <li>Wafer dough per cone = 2310 mm³</li>
                    <li>Container size = 2.31 liters</li>
                </ul>
            </div>

            <canvas id="coneCanvas4" width="400" height="350"></canvas>

            <p style="text-align: center; font-size: 1.3rem; margin-top: 30px; color: #7cc4e8;">
                We need to find the total volume and divide by container capacity
            </p>
        </div>

        <!-- Slide 5: Answer B2 -->
        <div class="slide">
            <h2>Solution B2</h2>

            <div class="solution-steps">
                <div class="step">
                    <h4>Step 1: Calculate Total Daily Volume</h4>
                    <p>Total volume = Number of cones × Volume per cone</p>
                    <p>Total volume = 10,000 × 2310 mm³</p>
                    <p>Total volume = 23,100,000 mm³</p>
                </div>

                <div class="step">
                    <h4>Step 2: Convert to Liters</h4>
                    <p>1 liter = 1,000,000 mm³</p>
                    <p>Total volume = 23,100,000 ÷ 1,000,000</p>
                    <p>Total volume = 23.1 liters</p>
                </div>

                <div class="step">
                    <h4>Step 3: Calculate Number of Containers</h4>
                    <p>Number of containers = Total volume ÷ Container size</p>
                    <p>Number of containers = 23.1 ÷ 2.31</p>
                    <p>Number of containers = 10</p>
                </div>
            </div>

            <div class="answer-box">
                <h3>Answer</h3>
                <p class="answer">10 containers</p>
                <p style="color: #c8c8d8; margin-top: 15px;">of 2.31L wafer dough needed daily</p>
            </div>
        </div>

        <!-- Navigation -->
        <div class="navigation">
            <button class="nav-button" id="prevBtn" onclick="changeSlide(-1)">Previous</button>
            <div class="progress-dots" id="progressDots"></div>
            <button class="nav-button" id="nextBtn" onclick="changeSlide(1)">Next</button>
        </div>
    </div>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;

        // Create progress dots
        const progressContainer = document.getElementById('progressDots');
        for (let i = 0; i < totalSlides; i++) {
            const dot = document.createElement('div');
            dot.className = 'dot';
            if (i === 0) dot.classList.add('active');
            progressContainer.appendChild(dot);
        }

        function showSlide(n) {
            slides.forEach(slide => slide.classList.remove('active'));
            slides[n].classList.add('active');

            // Update progress dots
            const dots = document.querySelectorAll('.dot');
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === n);
            });

            // Update button states
            document.getElementById('prevBtn').disabled = (n === 0);
            document.getElementById('nextBtn').disabled = (n === totalSlides - 1);

            // Draw canvas for current slide
            if (n === 0) drawDecorativeCone();
            if (n === 1) drawLabeledCone();
            if (n === 3) drawMultipleCones();
        }

        function changeSlide(direction) {
            currentSlide += direction;
            if (currentSlide < 0) currentSlide = 0;
            if (currentSlide >= totalSlides) currentSlide = totalSlides - 1;
            showSlide(currentSlide);
        }

        // Cone drawing functions
        function drawDecorativeCone() {
            const canvas = document.getElementById('coneCanvas1');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw cone (pointing DOWN like an ice cream cone)
            ctx.save();
            ctx.translate(200, 80);

            // Cone body - apex at BOTTOM
            ctx.beginPath();
            ctx.moveTo(0, 220);  // Apex at bottom
            ctx.lineTo(-80, 0);  // Top left
            ctx.lineTo(80, 0);   // Top right
            ctx.closePath();
            ctx.fillStyle = '#e8c47c';
            ctx.fill();
            ctx.strokeStyle = '#c49a4f';
            ctx.lineWidth = 2;
            ctx.stroke();

            // Grid pattern on cone (waffle pattern)
            for (let i = -80; i <= 80; i += 20) {
                ctx.beginPath();
                ctx.moveTo(i, 0);  // Start at top
                const ratio = (80 - Math.abs(i)) / 80;
                ctx.lineTo(i * 0.1, 220 * ratio + (1 - ratio) * 0);  // Go toward apex
                ctx.strokeStyle = '#c49a4f';
                ctx.lineWidth = 1;
                ctx.stroke();
            }

            // Top ellipse (opening of cone)
            ctx.beginPath();
            ctx.ellipse(0, 0, 80, 25, 0, 0, Math.PI * 2);
            ctx.strokeStyle = '#c49a4f';
            ctx.lineWidth = 2;
            ctx.stroke();

            // Ice cream scoops (sitting on TOP of cone)
            // Bottom scoop (mint) - sits in the opening
            ctx.beginPath();
            ctx.arc(0, -30, 50, 0, Math.PI * 2);
            ctx.fillStyle = '#7ce8b4';
            ctx.fill();
            ctx.strokeStyle = '#5cbf93';
            ctx.lineWidth = 2;
            ctx.stroke();

            // Middle scoop (coral)
            ctx.beginPath();
            ctx.arc(-15, -75, 48, 0, Math.PI * 2);
            ctx.fillStyle = '#e07860';
            ctx.fill();
            ctx.strokeStyle = '#c05a45';
            ctx.lineWidth = 2;
            ctx.stroke();

            // Top scoop (ice blue)
            ctx.beginPath();
            ctx.arc(10, -120, 45, 0, Math.PI * 2);
            ctx.fillStyle = '#7cc4e8';
            ctx.fill();
            ctx.strokeStyle = '#5c9fc7';
            ctx.lineWidth = 2;
            ctx.stroke();

            // Add highlights
            ctx.beginPath();
            ctx.arc(15, -130, 15, 0, Math.PI * 2);
            ctx.fillStyle = 'rgba(255, 255, 255, 0.4)';
            ctx.fill();

            ctx.restore();

            // Add factory name
            ctx.font = "bold 24px 'Cormorant Garamond'";
            ctx.fillStyle = '#e8c47c';
            ctx.textAlign = 'center';
            ctx.fillText('Creamistry Factory', 200, 380);
        }

        function drawLabeledCone() {
            const canvas = document.getElementById('coneCanvas2');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            ctx.save();
            ctx.translate(200, 50);

            const scale = 3;
            const r = 21 * scale;  // radius at top
            const h = 28 * scale;  // height going down

            // Draw cone outline - APEX AT BOTTOM
            ctx.beginPath();
            ctx.moveTo(0, h);      // Apex at bottom
            ctx.lineTo(-r, 0);     // Top left
            ctx.lineTo(r, 0);      // Top right
            ctx.closePath();
            ctx.strokeStyle = '#e8c47c';
            ctx.lineWidth = 3;
            ctx.stroke();

            // Fill cone
            ctx.fillStyle = 'rgba(232, 196, 124, 0.2)';
            ctx.fill();

            // Draw top circle (ellipse) - the opening
            ctx.beginPath();
            ctx.ellipse(0, 0, r, r * 0.3, 0, 0, Math.PI * 2);
            ctx.strokeStyle = '#e8c47c';
            ctx.lineWidth = 2;
            ctx.stroke();
            ctx.fillStyle = 'rgba(232, 196, 124, 0.1)';
            ctx.fill();

            // Draw radius line (at top)
            ctx.beginPath();
            ctx.moveTo(0, 0);
            ctx.lineTo(r, 0);
            ctx.strokeStyle = '#7cc4e8';
            ctx.lineWidth = 2;
            ctx.stroke();

            // Draw height line (from top center to apex)
            ctx.beginPath();
            ctx.moveTo(0, 0);
            ctx.lineTo(0, h);
            ctx.strokeStyle = '#e07860';
            ctx.lineWidth = 2;
            ctx.stroke();

            // Draw slant height (from top edge to apex)
            ctx.beginPath();
            ctx.moveTo(r, 0);
            ctx.lineTo(0, h);
            ctx.strokeStyle = '#7ce8b4';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            ctx.stroke();
            ctx.setLineDash([]);

            // Apex point
            ctx.beginPath();
            ctx.arc(0, h, 4, 0, Math.PI * 2);
            ctx.fillStyle = '#e8c47c';
            ctx.fill();

            // Labels
            ctx.font = "bold 16px 'JetBrains Mono'";
            ctx.textAlign = 'center';

            // Radius label (at top)
            ctx.fillStyle = '#7cc4e8';
            ctx.fillText('r = 21 mm', r / 2, -15);

            // Height label (on left side)
            ctx.fillStyle = '#e07860';
            ctx.textAlign = 'right';
            ctx.fillText('h = 28 mm', -15, h / 2);

            // Slant height label (on right side)
            ctx.fillStyle = '#7ce8b4';
            ctx.textAlign = 'left';
            ctx.fillText('l = 35 mm', r / 2 + 15, h / 2 + 10);

            // Thickness note
            ctx.textAlign = 'center';
            ctx.fillStyle = '#e8c47c';
            ctx.fillText('Thickness = 1 mm', 0, h + 40);

            ctx.restore();
        }

        function drawMultipleCones() {
            const canvas = document.getElementById('coneCanvas4');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw 10 small cones to represent containers
            const cols = 5;
            const rows = 2;
            const spacing = 70;
            const startX = 60;
            const startY = 80;

            for (let row = 0; row < rows; row++) {
                for (let col = 0; col < cols; col++) {
                    const x = startX + col * spacing;
                    const y = startY + row * spacing * 1.5;

                    drawSmallContainer(ctx, x, y, col + row * cols + 1);
                }
            }

            // Label
            ctx.font = "bold 20px 'Cormorant Garamond'";
            ctx.fillStyle = '#e8c47c';
            ctx.textAlign = 'center';
            ctx.fillText('10 Containers × 2.31L = 23.1L Total', 200, 300);
        }

        function drawSmallContainer(ctx, x, y, number) {
            ctx.save();
            ctx.translate(x, y);

            // Container rectangle
            ctx.beginPath();
            ctx.roundRect(-20, -30, 40, 60, 5);
            ctx.fillStyle = 'rgba(232, 196, 124, 0.3)';
            ctx.fill();
            ctx.strokeStyle = '#e8c47c';
            ctx.lineWidth = 2;
            ctx.stroke();

            // Lid
            ctx.beginPath();
            ctx.roundRect(-22, -35, 44, 8, 3);
            ctx.fillStyle = '#e07860';
            ctx.fill();

            // Number label
            ctx.font = "bold 16px 'JetBrains Mono'";
            ctx.fillStyle = '#e8c47c';
            ctx.textAlign = 'center';
            ctx.fillText(number.toString(), 0, 5);

            ctx.restore();
        }

        // Initialize first slide
        showSlide(0);

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') changeSlide(-1);
            if (e.key === 'ArrowRight') changeSlide(1);
        });
    </script>
</body>
</html>
